<html>
  <head>
      <title>PokeEnduranceCalc</title>
      <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="main">
    <div>
      <h2>ポケモン耐久値 計算</h2>
    </div>
    <div id="syuzokuti">
      <h4>種族値</h4>
      <p class="input_syuzokuti">
        H:<input id="syuzokuti_text_H" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        A:<input id="syuzokuti_text_A" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        B:<input id="syuzokuti_text_B" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        C:<input id="syuzokuti_text_C" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        D:<input id="syuzokuti_text_D" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        S:<input id="syuzokuti_text_S" type="text" value="0" />
      </p>
    </div>
    <div id="doryokuti">
      <h4>努力値</h4>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_H" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_H">0</button>
        <button id="doryokuti_kyokuburi_H">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_A" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_A">0</button>
        <button id="doryokuti_kyokuburi_A">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_B" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_B">0</button>
        <button id="doryokuti_kyokuburi_B">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_C" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_C">0</button>
        <button id="doryokuti_kyokuburi_C">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_D" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_D">0</button>
        <button id="doryokuti_kyokuburi_D">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_S" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_S">0</button>
        <button id="doryokuti_kyokuburi_S">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <font id="remain">510</font>
      </p>
    </div>
    <div id="seikakuhosei_plus">
      <p class="button_hosei_plus">
         +
      </p>
      <p class="button_hosei_plus">
        <input type="checkbox" name="hosei_plus" class="check_hosei_plus check_hosei_A hosei_checkbox" value="A" />
      </p>
      <p class="button_hosei_plus">
        <input type="checkbox" name="hosei_plus" class="check_hosei_plus check_hosei_B hosei_checkbox" value="B" />
      </p>
      <p class="button_hosei_plus">
        <input type="checkbox" name="hosei_plus" class="check_hosei_plus check_hosei_C hosei_checkbox" value="C" />
      </p>
      <p class="button_hosei_plus">
        <input type="checkbox" name="hosei_plus" class="check_hosei_plus check_hosei_D hosei_checkbox" value="D" />
      </p>
      <p class="button_hosei_plus">
        <input type="checkbox" name="hosei_plus" class="check_hosei_plus check_hosei_S hosei_checkbox" value="S" />
      </p>
    </div>
    <div id="seikakuhosei_minus">
      <p class="button_hosei_minus">
         -
      </p>
      <p class="button_hosei_minus">
        <input type="checkbox" name="hosei_minus" class="check_hosei_minus check_hosei_A hosei_checkbox" value="A" />
      </p>
      <p class="button_hosei_minus">
        <input type="checkbox" name="hosei_minus" class="check_hosei_minus check_hosei_B hosei_checkbox" value="B" />
      </p>
      <p class="button_hosei_minus">
        <input type="checkbox" name="hosei_minus" class="check_hosei_minus check_hosei_C hosei_checkbox" value="C" />
      </p>
      <p class="button_hosei_minus">
        <input type="checkbox" name="hosei_minus" class="check_hosei_minus check_hosei_D hosei_checkbox" value="D" />
      </p>
      <p class="button_hosei_minus">
        <input type="checkbox" name="hosei_minus" class="check_hosei_minus check_hosei_S hosei_checkbox" value="S" />
      </p>
    </div>
    <div id="jisuti">
      <h4>実数値</h4>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_H" type="text" value="0" />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_A" type="text" value="0" />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_B" type="text" value="0" />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_C" type="text" value="0" />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_D" type="text" value="0" />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_S" type="text" value="0" />
      </p>
    </div>
    <div id="other_option">

    </div>
    <div id="endurance_orig" style="padding: 10px; width:300px; height: 100px; margin-bottom: 10px; border: 1px solid #333333; border-radius: 10px;">
      <p>
        H:<font id="endurance_status_H">0(0)</font>
      </p>
      <p>
        B:<font id="endurance_status_B">0(0)</font>
      </p>
      <p>
        D:<font id="endurance_status_D">0(0)</font>
      </p>
      <div>
        <p>
          物理耐久:<font id="endurance_result_atk">---</font>
        </p>
        <p>
          特殊耐久:<font id="endurance_result_spatk">---</font>
        </p>
        <p>
          総合耐久:<font id="endurance_result_total">---</font>
        </p>
      </div>
    </div>
    <div id="endurance_copy" style="padding: 10px; width:300px; height: 100px; margin-bottom: 10px; border: 1px dotted rgb(69, 104, 199); border-radius: 10px;">
      <p>
        H:<font id="endurance_status_H_copy">0(0)</font>
      </p>
      <p>
        B:<font id="endurance_status_B_copy">0(0)</font>
      </p>
      <p>
        D:<font id="endurance_status_D_copy">0(0)</font>
      </p>
      <div>
        <p>
          物理耐久:<font id="endurance_result_atk_copy">---</font>
        </p>
        <p>
          特殊耐久:<font id="endurance_result_spatk_copy">---</font>
        </p>
        <p>
          総合耐久:<font id="endurance_result_total_copy">---</font>
        </p>
      </div>
    </div>
    <div id="copy_button_space">
      <button id="copy_endurance">↓ copy ↓</button>
    </div>

    </div>

  </body>
  <style>
    body {
      background-color: rgb(255, 220, 200);
    }
    h2 {
      margin:5px;
    }
    h4{
      margin:5px;
    }
    h5{
      margin:7px;
    }

    #doryokuti {
      position: absolute;
      top: 50px;
      left: 165px;
    }
    #status {
      position: absolute;
      top: 50px;
      left:85px;
    }
    #seikakuhosei_plus {
      position: absolute;
      top:80px;
      left: 300px;
      background-color:rgb(248, 191, 255)
    }
    #seikakuhosei_minus {
      position: absolute;
      top: 80px;
      left: 320px;
      background-color: rgb(187, 243, 252);
    }
    #jisuti {
      position: absolute;
      top: 50px;
      left: 105px;
    }
    #syuzokuti {
      position: absolute;
      top: 50px;
      left: 35px;
    }
    #endurance_orig {
      background-color: rgb(255, 255, 255);
      position: absolute;
      top: 325px;
      left: 30px;
    }
    div#endurance_orig div {
      position: relative;
      bottom: 87px;
      left: 140px
    }
    #endurance_copy {
      background-color: rgb(255, 255, 255);
      position: absolute;
      top: 500px;
      left: 30px
    }
    div#endurance_copy div {
      position: relative;
      bottom: 87px;
      left: 140px;
    }
    #copy_button_space {
      position: absolute;
      top: 460px;
      left: 160px;
    }

    p.input_muburi_status input {
      width: 50px;
      height: 25px;
    }
    p.doryokuti_spinbutton input{
      width: 50px;
      height: 25px;
    }
    p.doryokuti_spinbutton button{
      height:25px;
    }
    p.button_hosei_plus {
      height: 25px;
    }
    p.button_hosei_minus {
      height: 25px;
    }
    p.jisuti_spinbutton input {
      height: 25px;
      width: 50px;
    }
    p.input_syuzokuti input {
      height: 25px;
      width: 45px;
    }

    p.input_muburi_status {
      margin: 5px;
    }
    p.input_syuzokuti {
      margin: 5px;
    }
    p.doryokuti_spinbutton {
      margin: 5px;
    }
    p.button_hosei_plus {
      margin-top: 6px;
      margin-bottom: 6px;
    }
    p.button_hosei_minus {
      margin-top: 6px;
      margin-bottom: 6px;
    }
    p.doryokuti_spinbutton font {
      margin: 5px;
      font-size: 15px;
    }
    p.jisuti_spinbutton {
      margin: 5px;
    }
    div#endurance_orig p {
      margin: 5px;
    }
    div#endurance_copy p {
      margin: 5px;
    }




  </style>
  <script>
    //種族値を格納する変数
    var syuzokuti_H = 0;
    var syuzokuti_A = 0;
    var syuzokuti_B = 0;
    var syuzokuti_C = 0;
    var syuzokuti_D = 0;
    var syuzokuti_S = 0;

    //努力値を振った後の実数値を格納する変数
    var jisuti_status_H = 0;
    var jisuti_status_A = 0;
    var jisuti_status_B = 0;
    var jisuti_status_C = 0;
    var jisuti_status_D = 0;
    var jisuti_status_S = 0;

    //性格補正値
    var seikaku_hosei_A = 1;
    var seikaku_hosei_B = 1;
    var seikaku_hosei_C = 1;
    var seikaku_hosei_D = 1;
    var seikaku_hosei_S = 1;

    //表示用変数
    var hosei_B = '';
    var hosei_D = '';

    //種族値入力時の動作
    $('#syuzokuti_text_H').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_H = Number(val);
      } else {
        syuzokuti_H = 0;
      }
      $(this).val(syuzokuti_H);
      calcJisuti_H(Number($('#doryokuti_text_H').val()));
      $('#jisuti_text_H').val(jisuti_status_H);
      $('#endurance_status_H').text(
        jisuti_status_H + '(' + $('#doryokuti_text_H').val() + ')'
      );
      calcAllEnduranceResult();
    })
    $('#syuzokuti_text_A').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_A = Number(val);
      } else {
        syuzokuti_A = 0;
      }
      $(this).val(syuzokuti_A);
      jisuti_status_A = calcJisuti_ABCDS(Number($('#doryokuti_text_A').val()), Number(syuzokuti_A), Number(seikaku_hosei_A));
      $('#jisuti_text_A').val(jisuti_status_A);
    })
    $('#syuzokuti_text_B').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_B = Number(val);
      } else {
        syuzokuti_B = 0;
      }
      $(this).val(syuzokuti_B);
      jisuti_status_B = calcJisuti_ABCDS(Number($('#doryokuti_text_B').val()), Number(syuzokuti_B), Number(seikaku_hosei_B));
      $('#jisuti_text_B').val(jisuti_status_B);
      $('#endurance_status_B').text(
        jisuti_status_B + '(' + $('#doryokuti_text_B').val() + hosei_B + ')'
      );
      calcAllEnduranceResult();
    })
    $('#syuzokuti_text_C').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_C = Number(val);
      } else {
        syuzokuti_C = 0;
      }
      $(this).val(syuzokuti_C);
      jisuti_status_C = calcJisuti_ABCDS(Number($('#doryokuti_text_C').val()), Number(syuzokuti_C), Number(seikaku_hosei_C));
      $('#jisuti_text_C').val(jisuti_status_C);
    })
    $('#syuzokuti_text_D').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_D = Number(val);
      } else {
        syuzokuti_D = 0;
      }
      $(this).val(syuzokuti_D);
      jisuti_status_D = calcJisuti_ABCDS(Number($('#doryokuti_text_D').val()), Number(syuzokuti_D), Number(seikaku_hosei_D));
      $('#jisuti_text_D').val(jisuti_status_D);
      $('#endurance_status_D').text(
        jisuti_status_D + '(' + $('#doryokuti_text_D').val() + hosei_D + ')'
      );
      calcAllEnduranceResult();
    })
    $('#syuzokuti_text_S').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_S = Number(val);
      } else {
        syuzokuti_S = 0;
      }
      $(this).val(syuzokuti_S);
      jisuti_status_S = calcJisuti_ABCDS(Number($('#doryokuti_text_S').val()), Number(syuzokuti_S), Number(seikaku_hosei_S));
      $('#jisuti_text_S').val(jisuti_status_S);
    })

    //努力値が変更したときの動作
    $('#doryokuti_text_H').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      calcJisuti_H(Number(doryokuti));
      $('#jisuti_text_H').val(Number(jisuti_status_H));
      $('#endurance_status_H').text(
        jisuti_status_H + '(' + $('#doryokuti_text_H').val()  + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_text_A').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_A = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_A), Number(seikaku_hosei_A));
      $('#jisuti_text_A').val(jisuti_status_A);
    });
    $('#doryokuti_text_B').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_B = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_B), Number(seikaku_hosei_B));
      $('#jisuti_text_B').val(jisuti_status_B);
      $('#endurance_status_B').text(
        jisuti_status_B + '(' + $('#doryokuti_text_B').val() + hosei_B + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_text_C').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_C = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_C), Number(seikaku_hosei_C));
      $('#jisuti_text_C').val(jisuti_status_C);
    });
    $('#doryokuti_text_D').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_D = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_D), Number(seikaku_hosei_D));
      $('#jisuti_text_D').val(jisuti_status_D);
      $('#endurance_status_D').text(
        jisuti_status_D + '(' + $('#doryokuti_text_D').val() + hosei_D + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_text_S').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_S = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_S), Number(seikaku_hosei_S));
      $('#jisuti_text_S').val(jisuti_status_S);
    });
    function calcRemain(){ //残り努力値の計算
      var giving;
      var remain;
      giving = Number($('#doryokuti_text_H').val()) + Number($('#doryokuti_text_A').val()) + Number($('#doryokuti_text_B').val()) + Number($('#doryokuti_text_C').val()) + Number($('#doryokuti_text_D').val()) + Number($('#doryokuti_text_S').val());
      remain = Number(510) - Number(giving);
      return remain;
    }
    function calcJisuti_H(doryokuti){ //H実数値の計算
      jisuti_status_H = Math.floor((syuzokuti_H*2 + 31 + doryokuti/4) * 1/2) + 50 + 10;
    }
    function calcJisuti_ABCDS(doryokuti, syuzokuti, seikaku_hosei){
      //ABCDS実数値の計算
      jisuti_status = (Math.floor((syuzokuti*2 + 31 + doryokuti/4) * 1/2) + 5) * seikaku_hosei;
      jisuti_status = Math.floor(jisuti_status);
      return jisuti_status;
    }


    //努力値のボタンが押されたとき
    $('#doryokuti_reset_H').click(function(){
      $('#doryokuti_text_H').val(Number(0));
      $('#remain').text(Number(calcRemain()));
      calcJisuti_H(Number(0));
      $('#jisuti_text_H').val(jisuti_status_H);
      $('#endurance_status_H').text(
        jisuti_status_H + '(' + $('#doryokuti_text_H').val() + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_kyokuburi_H').click(function(){
      $('#doryokuti_text_H').val(Number(252));
      $('#remain').text(Number(calcRemain()));
      calcJisuti_H(Number(252));
      $('#jisuti_text_H').val(jisuti_status_H);
      $('#endurance_status_H').text(
        jisuti_status_H + '(' + $('#doryokuti_text_H').val() + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_reset_A').click(function(){
      $('#doryokuti_text_A').val(Number(0));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_A = calcJisuti_ABCDS(Number(0), Number(syuzokuti_A), Number(seikaku_hosei_A));
      $('#jisuti_text_A').val(jisuti_status_A);
    });
    $('#doryokuti_kyokuburi_A').click(function(){
      $('#doryokuti_text_A').val(Number(252));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_A = calcJisuti_ABCDS(Number(252), Number(syuzokuti_A), Number(seikaku_hosei_A));
      $('#jisuti_text_A').val(jisuti_status_A);
    });
    $('#doryokuti_reset_B').click(function(){
      $('#doryokuti_text_B').val(Number(0));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_B = calcJisuti_ABCDS(Number(0), Number(syuzokuti_B), Number(seikaku_hosei_B));
      $('#jisuti_text_B').val(jisuti_status_B);
      $('#endurance_status_B').text(
        jisuti_status_B + '(' + $('#doryokuti_text_B').val() + hosei_B + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_kyokuburi_B').click(function(){
      $('#doryokuti_text_B').val(Number(252));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_B = calcJisuti_ABCDS(Number(252), Number(syuzokuti_B), Number(seikaku_hosei_B));
      $('#jisuti_text_B').val(jisuti_status_B);
      $('#endurance_status_B').text(
        jisuti_status_B + '(' + $('#doryokuti_text_B').val() + hosei_B + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_reset_C').click(function(){
      $('#doryokuti_text_C').val(Number(0));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_C = calcJisuti_ABCDS(Number(0), Number(syuzokuti_C), Number(seikaku_hosei_C));
      $('#jisuti_text_C').val(jisuti_status_C);
    });
    $('#doryokuti_kyokuburi_C').click(function(){
      $('#doryokuti_text_C').val(Number(252));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_C = calcJisuti_ABCDS(Number(252), Number(syuzokuti_C), Number(seikaku_hosei_C));
      $('#jisuti_text_C').val(jisuti_status_C);
    });
    $('#doryokuti_reset_D').click(function(){
      $('#doryokuti_text_D').val(Number(0));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_D = calcJisuti_ABCDS(Number(0), Number(syuzokuti_D), Number(seikaku_hosei_D));
      $('#jisuti_text_D').val(jisuti_status_D);
      $('#endurance_status_D').text(
        jisuti_status_D + '(' + $('#doryokuti_text_D').val() + hosei_D + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_kyokuburi_D').click(function(){
      $('#doryokuti_text_D').val(Number(252));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_D = calcJisuti_ABCDS(Number(252), Number(syuzokuti_D), Number(seikaku_hosei_D));
      $('#jisuti_text_D').val(jisuti_status_D);
      $('#endurance_status_D').text(
        jisuti_status_D + '(' + $('#doryokuti_text_D').val() + hosei_D + ')'
      );
      calcAllEnduranceResult();
    });
    $('#doryokuti_reset_S').click(function(){
      $('#doryokuti_text_S').val(Number(0));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_S = calcJisuti_ABCDS(Number(0), Number(syuzokuti_S), Number(seikaku_hosei_S));
      $('#jisuti_text_S').val(jisuti_status_S);
    });
    $('#doryokuti_kyokuburi_S').click(function(){
      $('#doryokuti_text_S').val(Number(252));
      $('#remain').text(Number(calcRemain()));
      jisuti_status_S = calcJisuti_ABCDS(Number(252), Number(syuzokuti_S), Number(seikaku_hosei_S));
      $('#jisuti_text_S').val(jisuti_status_S);
    });

    //性格補正チェックボックスの挙動 / 排他的処理
    $('.check_hosei_plus').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_plus').prop('checked', false);
        $(this).prop('checked', true);
      }
    });
    $('.check_hosei_minus').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_minus').prop('checked', false);
        $(this).prop('checked', true);
      }
    });
    $('.check_hosei_A').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_A').prop('checked', false);
        $(this).prop('checked', true);
      }
    });
    $('.check_hosei_B').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_B').prop('checked', false);
        $(this).prop('checked', true);
      }
    });
    $('.check_hosei_C').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_C').prop('checked', false);
        $(this).prop('checked', true);
      }
    });
    $('.check_hosei_D').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_D').prop('checked', false);
        $(this).prop('checked', true);
      }
    });
    $('.check_hosei_S').click(function(){
      if($(this).prop('checked')){
        $('.check_hosei_S').prop('checked', false);
        $(this).prop('checked', true);
      }
    });

    //性格補正変数の更新
    $('.hosei_checkbox').change(function(){
      var plus = $('.check_hosei_plus:checked').val();
      var minus = $('.check_hosei_minus:checked').val();
      // console.log('plus:' + plus + ' minus:' + minus);
      switch(plus){
        case "A":
          switch(minus){
            case "B":
                hosei_B = '↓';
                hosei_D = '';
                seikaku_hosei_A = 1.1;
                seikaku_hosei_B = 0.9;
                seikaku_hosei_C = 1;
                seikaku_hosei_D = 1;
                seikaku_hosei_S = 1;
            break;
            case "C":
                hosei_B = '';
                hosei_D = '';
                seikaku_hosei_A = 1.1;
                seikaku_hosei_B = 1;
                seikaku_hosei_C = 0.9;
                seikaku_hosei_D = 1;
                seikaku_hosei_S = 1;
            break;
            case "D":
                hosei_B = '';
                hosei_D = '↓';
                seikaku_hosei_A = 1.1;
                seikaku_hosei_B = 1;
                seikaku_hosei_C = 1;
                seikaku_hosei_D = 0.9;
                seikaku_hosei_S = 1;
            break;
            case "S":
                hosei_B = '';
                hosei_D = '';
                seikaku_hosei_A = 1.1;
                seikaku_hosei_B = 1;
                seikaku_hosei_C = 1;
                seikaku_hosei_D = 1;
                seikaku_hosei_S = 0.9;
            break;
            default:
                hosei_B = '';
                hosei_D = '';
                seikaku_hosei_A = 1.1;
                seikaku_hosei_B = 1;
                seikaku_hosei_C = 1;
                seikaku_hosei_D = 1;
                seikaku_hosei_S = 1;
            break;
          }
        break;
        case "B":
          switch(minus){
            case "A":
              hosei_B = '↑';
              hosei_D = '';
              seikaku_hosei_A = 0.9;
              seikaku_hosei_B = 1.1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "C":
              hosei_B = '↑';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1.1;
              seikaku_hosei_C = 0.9;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "D":
              hosei_B = '↑';
              hosei_D = '↓';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1.1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 0.9;
              seikaku_hosei_S = 1;
            break;
            case "S":
              hosei_B = '↑';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1.1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 0.9;
            break;
            default:
              hosei_B = '↑';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1.1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
          }
        break;
        case "C":
          switch(minus){
            case "A":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 0.9;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1.1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "B":
              hosei_B = '↓';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 0.9;
              seikaku_hosei_C = 1.1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "D":
              hosei_B = '';
              hosei_D = '↓';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1.1;
              seikaku_hosei_D = 0.9;
              seikaku_hosei_S = 1;
            break;
            case "S":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1.1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 0.9;
            break;
            default:
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1.1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
          }
        break;
        case "D":
          switch(minus){
            case "A":
              hosei_B = '';
              hosei_D = '↑';
              seikaku_hosei_A = 0.9;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1.1;
              seikaku_hosei_S = 1;
            break;
            case "B":
              hosei_B = '↓';
              hosei_D = '↑';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 0.9;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1.1;
              seikaku_hosei_S = 1;
            break;
            case "C":
              hosei_B = '';
              hosei_D = '↑';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 0.9;
              seikaku_hosei_D = 1.1;
              seikaku_hosei_S = 1;
            break;
            case "S":
              hosei_B = '';
              hosei_D = '↑';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1.1;
              seikaku_hosei_S = 0.9;
            break;
            default:
              hosei_B = '';
              hosei_D = '↑';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1.1;
              seikaku_hosei_S = 1;
            break;
          }
        break;
        case "S":
          switch(minus){
            case "A":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 0.9;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1.1;
            break;
            case "B":
              hosei_B = '↓';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 0.9;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1.1;
            break;
            case "C":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 0.9;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1.1;
            break;
            case "D":
              hosei_B = '';
              hosei_D = '↓';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 0.9;
              seikaku_hosei_S = 1.1;
            break;
            default:
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1.1;
            break;
          }
        break;
        default:
          switch(minus){
            case "A":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 0.9;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "B":
              hosei_B = '↓';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 0.9;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "C":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 0.9;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
            case "D":
              hosei_B = '';
              hosei_D = '↓';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 0.9;
              seikaku_hosei_S = 1;
            break;
            case "S":
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 0.9;
            break;
            default:
              hosei_B = '';
              hosei_D = '';
              seikaku_hosei_A = 1;
              seikaku_hosei_B = 1;
              seikaku_hosei_C = 1;
              seikaku_hosei_D = 1;
              seikaku_hosei_S = 1;
            break;
          }
        break;
      }
      // console.log(seikaku_hosei_A +':'+ seikaku_hosei_B +':'+ seikaku_hosei_C +':'+ seikaku_hosei_D +':'+ seikaku_hosei_S);

      //各実数値の再計算
      var doryokuti = 0;
      doryokuti = $('#doryokuti_text_A').val();
      jisuti_status_A = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_A), Number(seikaku_hosei_A));
      $('#jisuti_text_A').val(jisuti_status_A);

      doryokuti = $('#doryokuti_text_B').val();
      jisuti_status_B = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_B), Number(seikaku_hosei_B));
      $('#jisuti_text_B').val(jisuti_status_B);
      $('#endurance_status_B').text(
        jisuti_status_B + '(' + $('#doryokuti_text_B').val() + hosei_B + ')'
      );
      calcAllEnduranceResult();

      doryokuti = $('#doryokuti_text_C').val();
      jisuti_status_C = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_C), Number(seikaku_hosei_C));
      $('#jisuti_text_C').val(jisuti_status_C);

      doryokuti = $('#doryokuti_text_D').val();
      jisuti_status_D = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_D), Number(seikaku_hosei_D));
      $('#jisuti_text_D').val(jisuti_status_D);
      $('#endurance_status_D').text(
        jisuti_status_D + '(' + $('#doryokuti_text_D').val() + hosei_D + ')'
      );
      calcAllEnduranceResult();

      doryokuti = $('#doryokuti_text_S').val();
      jisuti_status_S = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_S), Number(seikaku_hosei_S));
      $('#jisuti_text_S').val(jisuti_status_S);
    });

    //結果の表示
    function calcAllEnduranceResult(){
      // console.log($('#endurance_status_H').text());
      calcAtkEndurance();
      calcSpAtkEndurance();
      calcTotalEndurance();
    }
    function calcAtkEndurance(){
      var status_H;
      var status_B;
      status_H = Number($('#jisuti_text_H').val());
      status_B = Number($('#jisuti_text_B').val());
      $('#endurance_result_atk').text(Number(status_H * status_B));
    }
    function calcSpAtkEndurance(){
      var status_H;
      var status_D;
      status_H = Number($('#jisuti_text_H').val());
      status_D = Number($('#jisuti_text_D').val());
      $('#endurance_result_spatk').text(Number(status_H * status_D));
    }
    function calcTotalEndurance(){
      var status_H;
      var status_B;
      var status_D;
      status_H = Number($('#jisuti_text_H').val());
      status_B = Number($('#jisuti_text_B').val());
      status_D = Number($('#jisuti_text_D').val());
      $('#endurance_result_total').text(Number(status_H*status_B) + Number(status_H*status_D));
    }

    //copyボタンを押したときの動作
    $('#copy_endurance').click(function(){
      $('#endurance_status_H_copy').text($('#endurance_status_H').text());
      $('#endurance_status_B_copy').text($('#endurance_status_B').text());
      $('#endurance_status_D_copy').text($('#endurance_status_D').text());
      $('#endurance_result_atk_copy').text($('#endurance_result_atk').text());
      $('#endurance_result_spatk_copy').text($('#endurance_result_spatk').text());
      $('#endurance_result_total_copy').text($('#endurance_result_total').text());
    })

  </script>
</html>
